<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>短信防刷 - 手势验证码（VAPTCHA）</title>
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width" />
    <meta name="description" content="VAPTCHA能有效防止自动化程序刷短信库存，当前页为效果演示页面。">
    <meta name="keywords" content="短信防刷,刷短信,防刷,手机短信防刷,验证码,手势验证码">
    <link rel="stylesheet" type="text/css" href="https://r.vaptcha.com/public/css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="https://r.vaptcha.com/public/css/common.css" />
    <link rel="stylesheet" type="text/css" href="../assets/css/public/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="https://r.vaptcha.com/demo/css/demo.1.0.2.css" />

    <script src="https://r.vaptcha.com/public/js/jquery.min.js"></script>
    <script src="https://r.vaptcha.com/public/js/vaptcha-language.js"></script>
    <script src="js/vaptcha-demo.js"></script>
    <!--[if !IE]><!-->
    
    <script type="text/javascript">
    $('document').ready(function(){
        $("#mask").css("display", "none");
        $("#video-maskbtn").on("click", function() {
            $("#mask-video").css("left", "50%");
            $("#mask").fadeIn();
            $("#mask-video").fadeIn();
            $(".vaptcha-index").css("filter", "blur(2px)");
            $('#media')[0].play();
            $('#media')[0].currentTime = 0;
        });
        $("#mask-close").on("click", function() {
            $(".vaptcha-index").css("filter", "none");
            $("#mask-video").css("left", "2000px");
            $("#mask").fadeOut();
            $('#media')[0].pause();
        });
    })
    </script>
    <!--<![endif]-->
    <!-- <script src="http://www.vaptchatest.com/v2.2.js"></script> -->
    <script src="https://v.vaptcha.com/v3.js"></script>
    <script type="text/javascript">
        $(document).ready(function(){
            var isSendCode = false;
            var isPass = false;
            var timer;

            //初始化区域选择器
            $('.dropdown-toggle').click(function() {
                $('.dropdown-menu').toggle();
            })
            $('.dropdown-menu li').click(function() {
                $('#btn-down').html($(this).children('a').html());
                $('.dropdown-menu').hide();
            });
            //初始化demo
            var v = new VD($('#vaptchaContainer'), 'float', function(){
                $('.login-content .code button').click();
                $('.login-content .code').show();
            });
            v.initVaptcha();
            var resetButton = function() {
                timer && clearTimeout(timer);
                $('.login-content .code button').text('发送验证码');
                $('.login-content .code button').removeAttr('disabled');
            }
            v.reset = function(type) {
                isSendCode = false;
                isPass = false;
                $('#phoneNumber').val('');
                $('#phoneNumber').removeClass('has-error');
                $('.login-content .code input').val('');
                $('.login-content .code').hide();
                $('.login-content .code').removeClass('s-fail');
                $('.login-content .code').removeClass('s-success');
                resetButton();
                v.initVaptcha(type);
            }
            function codeTimerStart(t){
                (function sendCodeTimer() {
                    if (t == 0){
                        resetButton();
                        return ;
                    }
                    $('.login-content .code button').text(t + 's后重发');
                    $('.login-content .code button').attr('disabled', true);
                    t--;
                    timer = setTimeout(sendCodeTimer, 1000);
                })()
            }
            $('#phoneNumber').keydown(function(){
                var phone = $('#phoneNumber').val().trim();
                if(VD.validatePhone(phone)) {
                    $('#phoneNumber').removeClass('has-error');
                    return ;
                }
            })
            $('.login-content .code button').click(function() {
                if (isPass) return ;
                var phone = $('#phoneNumber').val().trim();
                if(!VD.validatePhone(phone)) {
                    // VD.toast('请输入正确的手机号');
                    $('#phoneNumber').addClass('has-error');
                    return ;
                }
                if (isSendCode) {
                    isSendCode = false;
                    v.resetVaptcha();
                    v.initVaptcha();
                    VD.toast('请重新进行人机验证');
                    return;
                }
                if(!v.token) {
                    VD.toast('请进行人机验证');
                    return ;
                }
                var phonePrefix = $('#btn-down').text().split('+')[1].trim();
                var params = '?phone_prefix=' + phonePrefix +'&phone=' + phone + '&token=' + v.token + '&challenge=' + v.challenge;
                $.get('/api/account/demo/phone/code' + params, function(r) {
                    if(r.code === 200) {
                        codeTimerStart(r.expire || 120);
                        isSendCode = true;
                        VD.toast(r.expire ? '发送成功!' : '发送成功!');
                    } else {
                        VD.toast('发送失败!');
                    }
                })
                .error(function() {
                    VD.toast('发送失败!');
                })
            })
            $('.code input').focus(function() {
                $('.code').removeClass('s-fail');
            })
            $('.code input').blur(function() {
                if (!isSendCode || $(this).val().trim().length !== 6 || isPass) return;
                var phonePrefix = $('#btn-down').text().split('+')[1].trim();
                var phone = $('#phoneNumber').val().trim();
                $.ajaxSetup({
                    contentType: 'application/json'
                });
                $.post('/api/account/demo/phone/code', JSON.stringify({
                    phone: phone,
                    phone_prefix: phonePrefix,
                    code: $(this).val().trim()
                }), function(r) {
                    if (r.code == 200) {
                        $('.code button').html('<i class="fa fa-check"></i>');
                        $('.code').addClass('s-success');
                        timer && clearTimeout(timer);
                        $('.login-content .code button').removeAttr('disabled');
                        isPass = true;
                    } else $('.code').addClass('s-fail');
                })
                .error(function() {
                    $('.code').addClass('s-fail');
                })
            })
            
            

        })
    </script>
    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?e3da96e182f65086e71c28cfdbb64b10";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
        (function(){
            var bp = document.createElement('script');
            var curProtocol = window.location.protocol.split(':')[0];
            if (curProtocol === 'https') {
                bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
            }
            else {
                bp.src = 'http://push.zhanzhang.baidu.com/push.js';
            }
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(bp, s);
        })();
    </script>
</head>

<body>
    <script src='https://static.vaptcha.com/assets/js/three.min.js'></script>
    <script src="https://static.vaptcha.com/assets/js/index.min.js"></script>
    <div class="demo-vaptcha">
        <div class="nav">
            <a href="/" title="VAPTCHA">
                <img class="logo" src="https://static.vaptcha.com/assets/img/index/logo.png" alt="VAPTCHA">
            </a>
            <div class="nav-link">
                <a href="/">首页</a>
                <a href="/demo/index.html" class="index">演示</a>
                <a href="/login.html">登录</a>
                <a href="/register.html">注册</a>
            </div>
        </div>
        <div class="vaptcha-main ">
            <div class="aside">
                <ul id="aside-btn">
                    <li><i class="fa fa-laptop"></i></li>
                    <li class="aside-btn"><a href="/demo/index.html"> 嵌入式</a></li>
                    <li class="aside-btn active"><a href="javascript:;">点击式</a></li>
                    <li class="aside-btn"><a href="/demo/invisible.html">隐藏式</a></li>
                    <li><i class="fa fa-mobile"></i></li>
                    <li class="aside-btn"><a href="/demo/phone.html">弹出式</a></li>
                    <!-- <li><i class="fa fa-power-off"></i></li>
                    <li class="aside-btn downtime"><a href="/demo/downtime">宕机模式</a></li> -->
                </ul>

            </div>
            <div class="article popup-demo article-active">
                <div class="tip-block" style="display: none"></div>
                <div class="panel" style="display:block">
                    <div class="title">
                        示例：<span>防刷票</span>
                        <p id="reset" class="refresh" title="重置">
                            <i id="vpRefreshI"></i>
                        </p>
                    </div>
                    <div class="login-content">
                        <p>你从哪里知道VAPTCHA的？</p>
                        <div class="popitem">
                            <input type="checkbox" id="searchBox"/><label for="searchBox">搜索引擎</label>
                        </div>
                        <div class="popitem">
                            <input type="checkbox" id="internetBox"><label for="internetBox">互联网广告</label>
                        </div>
                        <div class="popitem">
                            <input type="checkbox" id="siteBox"/><label for="siteBox">网站使用案例</label>
                        </div>
                        <div class="popitem">
                            <input type="checkbox" id="recommendBox"/><label for="recommendBox">朋友推荐</label>
                        </div>
                        <div id="vaptchaContainer" style="height:40px" class="box-vaptcha">
                            <div class="vaptcha-init-main">
                                <div class="vaptcha-init-loading">
                                    <a href="/" target="_blank">
                                        <img src="https://cdn.vaptcha.com/vaptcha-loading.gif"/>
                                    </a>
                                    <span class="vaptcha-text">VAPTCHA启动中...</span>
                                </div>
                            </div>
                        </div>
                        <a class="btn-login" disabled>提交</a>
                    </div>
                </div>
                <div class="intelligent-detection ai"><span class="fa fa-bolt"></span>无感验证开启</div>
                <div class="intelligent-detection text-grey" style="display: none"><span class="fa fa-bolt"></span>无感验证关闭</div>
                
            </div>
            <div class="surperise">
                <div class="anim">
                </div>
                <div id="cat">
                    <img src="https://static.vaptcha.com/assets/img/cat.png" alt="" srcset="">
                </div>
                <div class="what" id="video-maskbtn">
                    <span></span>
                    <a>快速了解VAPTCHA</a>
                </div>
            </div>
            <div class="footer">
            
                <div class="footer-main">
                    <div>
                    <a href="/document/install.html">开发文档</a>
                    <a href="/document/faq.html">FAQ</a>
                    <a href="/document/contract.html">服务条款</a>
                    <a href="/sitemap.xml">Sitemap</a>
                    <a href="/document/index.html">Git</a>
                    <!-- <a href="/reward">破解VAPTCHA</a> -->
                    <a href="@dzUrl" target="_blank">DZ插件</a>
                    <a href="/document/sms.html" target="_blank">短信补贴</a>
                    <a href="/document/sms.html" target="_blank">团队邮箱</a>
                    </div>
                    <p class="copyright">
                    Copyright © 2017 VAPTCHA All Rights Reserved 
                    <a href="http://www.beian.miit.gov.cn" target="_blank">&nbsp;渝ICP备15001110号-9&nbsp;&nbsp;&nbsp;</a>
                    <img src="https://static.vaptcha.com/assets/img/index/ghs.png" style="vertical-align: middle;"/>
                        渝公网安备 50010302001060号
                        <!-- <a href="https://tongji.baidu.com/web/welcome/ico?s=e3da96e182f65086e71c28cfdbb64b10" target="_blank" style="color:#212B39;">百度统计</a> -->
                    </p>
                </div>
            </div>
            <div style="font-size: 12px; color: #000; position: absolute; bottom: 0; z-index: -1;">
                VAPTCHA是“Variation Analysis based Public Turing Test to Tell Computers and Humans Apart”（基于变量分析来区分人类和计算机的图灵测试程序）的缩写，又称为手势验证码， 一种基于人工智能和大数据的人机验证解决方案 。用户仅需用鼠标绘制指定轨迹即可完成人机验证。与传统验证码相比，VAPTCHA不仅用户体验更好，而且更加安全，是目前最不可能被破解的验证码。VAPTCHA能有效防止暴力破解、论坛灌水、垃圾邮件、撞库、刷投票、人工打码、恶意提交数据等。
            </div>
        </div>
    </div>
    <div class="masks" id="mask">
        <div class="mask-video" id="mask-video">
          <video id="media" width="100%" poster="" loop="loop" preload="auto" height="100%" src="https://static.vaptcha.com/VAPTCHAsxb.mp4" controls="controls"></video>
          <div id="mask-close"><i></i></div>
        </div>
      </div>
</body>

</html>
