

![](detect_cycle.png)

证明：如上图所示，a是起点，b是环的入口，c是俩个指针相遇点，ab之间距离为 x , bc 之间距离是 y。

当 slow 走到 b 时，由于 fast 比 slow 走的快(两倍)，所以 fast 已经从 b 开始在环上走了 x 步，可能是多余一圈，距离 b 还差 y 步
> 我们知道俩个指针相遇的点在 c ,我们让 slow 退回到 b,fast 则会退回 2y 步，所以就是距离 b 还差 y 步,可以画图模拟一下

知道了 fast 距离 b 还差 y 步，上面知道了 fast 从 b 开始在环上走了 x 步。所以环的长度为 x+y 的 n 倍。
所以当俩个指针相遇时，把 fast 放回原点，slow 在 c 点不动。然后每次都走一步，下一次相遇的时候就是 b 点环的入口。
> 假设 x+y 为环的长度为的 1 倍，而且 bc 之间 短的那段为 y 则另一段长的就是 x 。ab 距离刚好也是 x,
> 所以从 c 点往 b 走 和从 a 往 b 走最终肯定会在 b 点相遇
> 
>如果是两倍的话也同理 bc 短为 y ，bc 长则为0.5x+0.5y-y=0.5x-0.5y 就不会再第一圈相遇了
> 第二圈的时候 c 点开始的指针走到 b 点的距离是 0.5x-0.5y+0.5x+0.5y=x
> 从 a 点开始的指针走的距离也是 x 也能相遇 